{"version":3,"file":"MainImg-CMxYikcR.js","sources":["../../src/Components/Content/GameList/MainImg/MainImg.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styles from \"./MainImg.module.css\";\n\ntype MainImgPropsType = {\n    soldierImg: string,\n    currentCard: number,\n    mainImg?: string\n}\n\nconst MainImg: React.FC<MainImgPropsType> = React.memo(({mainImg, soldierImg, currentCard}) => {\n    const [isTransitioning, setIsTransitioning] = useState(false);\n    const [prevSoldierImg, setPrevSoldierImg] = useState(soldierImg);\n    const [prevMainImg, setPrevMainImg] = useState(mainImg);\n    const [showNewContent, setShowNewContent] = useState(true);\n    const [opacity, setOpacity] = useState(1);\n    \n    useEffect(() => {\n        if (soldierImg !== prevSoldierImg || mainImg !== prevMainImg) {\n            // Начинаем анимацию исчезновения\n            setIsTransitioning(true);\n            setShowNewContent(false);\n            setOpacity(0);\n            \n            // Ждем завершения анимации исчезновения\n            const hideTimer = setTimeout(() => {\n                // Обновляем оба изображения одновременно\n                setPrevSoldierImg(soldierImg);\n                setPrevMainImg(mainImg);\n                setShowNewContent(true);\n                \n                // Показываем новый контент\n                requestAnimationFrame(() => {\n                    setOpacity(1);\n                });\n            }, 200);\n            \n            // Завершаем анимацию\n            const finishTimer = setTimeout(() => {\n                setIsTransitioning(false);\n            }, 400);\n            \n            return () => {\n                clearTimeout(hideTimer);\n                clearTimeout(finishTimer);\n            };\n        }\n    }, [soldierImg, mainImg, prevSoldierImg, prevMainImg]);\n\n    const getSoldierClassName = () => {\n        switch(currentCard) {\n            case 0: return styles.imageSoldierDestiny2;\n            case 1: return styles.imageSoldierCoDMW2;\n            case 2: return styles.imageSoldierWarzone;\n            case 3: return styles.imageSoldierBlackOps;\n            case 4: return styles.imageSoldierCoDMW3;\n            case 5: return styles.imageSoldierSM2;\n            case 6: return styles.imageSoldierBlackOpsZombies;\n            default: return styles.imageSoldier;\n        }\n    };\n\n    return (\n        <div className={styles.container}>\n            <div className={styles.imageWrapper}>\n                <div className={styles.transitionWrapper}>\n                    {isTransitioning && !showNewContent && prevMainImg && (\n                        <img\n                            loading=\"lazy\"\n                            src={prevMainImg}\n                            alt=\"Previous main content\"\n                            className={styles.image}\n                            style={{ \n                                opacity: 0,\n                                transition: 'opacity 0.2s ease-out',\n                                position: 'absolute'\n                            }}\n                        />\n                    )}\n                    <img\n                        loading=\"lazy\"\n                        src={mainImg}\n                        alt=\"Main content image\"\n                        className={styles.image}\n                        style={{ \n                            opacity: showNewContent ? opacity : 0,\n                            transition: 'opacity 0.2s ease-out',\n                            position: 'absolute'\n                        }}\n                    />\n                </div>\n                <img\n                    loading=\"lazy\"\n                    src=\"https://cdn.builder.io/api/v1/image/assets/TEMP/c116929bb3d3d344f8985b18ec3fe8e7190c9849fd4591da255d8175347631c3?placeholderIfAbsent=true&apiKey=8a3404d7eee74db5a8def1a4eb5e7a09\"\n                    alt=\"Background image\"\n                    className={styles.imageBackGround}\n                />\n                <div className={styles.soldierWrapper}>\n                    {isTransitioning && !showNewContent && (\n                        <img\n                            loading=\"lazy\"\n                            src={prevSoldierImg}\n                            alt=\"Previous soldier\"\n                            className={getSoldierClassName()}\n                            style={{ \n                                opacity: 0,\n                                transition: 'opacity 0.2s ease-out',\n                                position: 'absolute',\n                                transform: 'none'\n                            }}\n                        />\n                    )}\n                    {showNewContent && (\n                        <img\n                            loading=\"lazy\"\n                            src={soldierImg}\n                            alt=\"Current soldier\"\n                            className={getSoldierClassName()}\n                            style={{ \n                                opacity,\n                                transition: 'opacity 0.2s ease-out',\n                                position: 'absolute',\n                                transform: 'none'\n                            }}\n                        />\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default MainImg;"],"names":["MainImg","React","mainImg","soldierImg","currentCard","isTransitioning","setIsTransitioning","useState","prevSoldierImg","setPrevSoldierImg","prevMainImg","setPrevMainImg","showNewContent","setShowNewContent","opacity","setOpacity","useEffect","hideTimer","finishTimer","getSoldierClassName","styles","jsx","jsxs"],"mappings":"21BASMA,EAAsCC,EAAM,KAAK,CAAC,CAAC,QAAAC,EAAS,WAAAC,EAAY,YAAAC,KAAiB,CAC3F,KAAM,CAACC,EAAiBC,CAAkB,EAAIC,EAAAA,SAAS,EAAK,EACtD,CAACC,EAAgBC,CAAiB,EAAIF,EAAAA,SAASJ,CAAU,EACzD,CAACO,EAAaC,CAAc,EAAIJ,EAAAA,SAASL,CAAO,EAChD,CAACU,EAAgBC,CAAiB,EAAIN,EAAAA,SAAS,EAAI,EACnD,CAACO,EAASC,CAAU,EAAIR,EAAAA,SAAS,CAAC,EAExCS,EAAAA,UAAU,IAAM,CACR,GAAAb,IAAeK,GAAkBN,IAAYQ,EAAa,CAE1DJ,EAAmB,EAAI,EACvBO,EAAkB,EAAK,EACvBE,EAAW,CAAC,EAGN,MAAAE,EAAY,WAAW,IAAM,CAE/BR,EAAkBN,CAAU,EAC5BQ,EAAeT,CAAO,EACtBW,EAAkB,EAAI,EAGtB,sBAAsB,IAAM,CACxBE,EAAW,CAAC,CAAA,CACf,GACF,GAAG,EAGAG,EAAc,WAAW,IAAM,CACjCZ,EAAmB,EAAK,GACzB,GAAG,EAEN,MAAO,IAAM,CACT,aAAaW,CAAS,EACtB,aAAaC,CAAW,CAC5B,CAAA,GAEL,CAACf,EAAYD,EAASM,EAAgBE,CAAW,CAAC,EAErD,MAAMS,EAAsB,IAAM,CAC9B,OAAOf,EAAa,CAChB,IAAK,GAAG,OAAOgB,EAAO,qBACtB,IAAK,GAAG,OAAOA,EAAO,mBACtB,IAAK,GAAG,OAAOA,EAAO,oBACtB,IAAK,GAAG,OAAOA,EAAO,qBACtB,IAAK,GAAG,OAAOA,EAAO,mBACtB,IAAK,GAAG,OAAOA,EAAO,gBACtB,IAAK,GAAG,OAAOA,EAAO,4BACtB,QAAS,OAAOA,EAAO,YAAA,CAE/B,EAGI,OAAAC,EAAA,IAAC,OAAI,UAAWD,EAAO,UACnB,SAACE,EAAA,KAAA,MAAA,CAAI,UAAWF,EAAO,aACnB,SAAA,CAACE,EAAA,KAAA,MAAA,CAAI,UAAWF,EAAO,kBAClB,SAAA,CAAmBf,GAAA,CAACO,GAAkBF,GACnCW,EAAA,IAAC,MAAA,CACG,QAAQ,OACR,IAAKX,EACL,IAAI,wBACJ,UAAWU,EAAO,MAClB,MAAO,CACH,QAAS,EACT,WAAY,wBACZ,SAAU,UAAA,CACd,CACJ,EAEJC,EAAA,IAAC,MAAA,CACG,QAAQ,OACR,IAAKnB,EACL,IAAI,qBACJ,UAAWkB,EAAO,MAClB,MAAO,CACH,QAASR,EAAiBE,EAAU,EACpC,WAAY,wBACZ,SAAU,UAAA,CACd,CAAA,CACJ,EACJ,EACAO,EAAA,IAAC,MAAA,CACG,QAAQ,OACR,IAAI,oLACJ,IAAI,mBACJ,UAAWD,EAAO,eAAA,CACtB,EACCE,EAAA,KAAA,MAAA,CAAI,UAAWF,EAAO,eAClB,SAAA,CAAAf,GAAmB,CAACO,GACjBS,EAAA,IAAC,MAAA,CACG,QAAQ,OACR,IAAKb,EACL,IAAI,mBACJ,UAAWW,EAAoB,EAC/B,MAAO,CACH,QAAS,EACT,WAAY,wBACZ,SAAU,WACV,UAAW,MAAA,CACf,CACJ,EAEHP,GACGS,EAAA,IAAC,MAAA,CACG,QAAQ,OACR,IAAKlB,EACL,IAAI,kBACJ,UAAWgB,EAAoB,EAC/B,MAAO,CACH,QAAAL,EACA,WAAY,wBACZ,SAAU,WACV,UAAW,MAAA,CACf,CAAA,CACJ,CAER,CAAA,CAAA,CAAA,CACJ,CACJ,CAAA,CAER,CAAC"}